<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stats overview</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    <script src="stats_grab.js"></script>
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
       integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

</head>
<body>

<div class="container">
 <h1>CEDA Archive Overview</h1>

 <div>
 <a class="btn btn-secondary btn-sm active mx-1" href="https://archdash.ceda.ac.uk/downloads">Downloads</a>
 <a class="btn btn-secondary btn-sm active mx-1" href="https://archdash.ceda.ac.uk/deposits/">Deposits</a>
 <a class="btn btn-secondary btn-sm active mx-1" href="http://stats.ceda.ac.uk/ingest_state/index.html?namefilter=&amp;owner=&amp;reclen=30&amp;ingest4=on&amp;ingest5=on&amp;ingest6=on&amp;running=on&amp;warn=on&amp;fail=on&amp;killed=on&amp;died=on">Ingest state</a>
 <a class="btn btn-secondary btn-sm active mx-1" href="http://cedaarchiveapp.ceda.ac.uk/cedaarchiveapp/fileset/index/?search=%2Fbadc%2Facsoe">View archive size</a>
 <a class="btn btn-secondary btn-sm active mx-1" href="http://stats.ceda.ac.uk/cgi-bin/stats/user_stats.py"><span class="icon"> </span>User database statistics</a>
 <a class="btn btn-secondary btn-sm active mx-1" href="https://stats.uptimerobot.com/LJKgZfn2G">Uptime</a>
 <a class="btn btn-secondary btn-sm active mx-1" href="https://archdash.ceda.ac.uk/current/a_sum">Currently depositing</a>
</div>

 <div>
     <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: G Pages: 1 -->
<svg width="784pt" height="771pt"
 viewBox="0.00 0.00 784.00 771.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 767)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-767 780,-767 780,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_arrivals</title>
<polygon fill="#ccccff" stroke="#ccccff" points="18,-443 18,-700 324,-700 324,-443 18,-443"/>
<text text-anchor="middle" x="171" y="-684.8" font-family="Times,serif" font-size="14.00">Arrivals</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_deposit</title>
<polygon fill="pink" stroke="pink" points="8,-327 8,-424 515,-424 515,-327 8,-327"/>
<text text-anchor="middle" x="261.5" y="-408.8" font-family="Times,serif" font-size="14.00">Deposit server</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_access</title>
<polygon fill="#ffffcc" stroke="#ffffcc" points="99,-65 99,-308 768,-308 768,-65 99,-65"/>
<text text-anchor="middle" x="433.5" y="-292.8" font-family="Times,serif" font-size="14.00">access</text>
</g>
<!-- data_provider -->
<g id="node1" class="node">
<title>data_provider</title>
<polygon fill="yellow" stroke="black" points="349.91,-727.05 353.82,-727.15 357.69,-727.3 361.51,-727.49 365.25,-727.74 368.91,-728.03 372.47,-728.36 375.91,-728.75 379.22,-729.18 382.39,-729.65 385.41,-730.16 388.27,-730.71 390.96,-731.31 393.46,-731.94 395.78,-732.61 397.91,-733.31 399.83,-734.04 401.55,-734.8 403.07,-735.59 404.37,-736.41 405.47,-737.25 406.36,-738.11 407.04,-738.99 407.51,-739.89 407.78,-740.8 407.86,-741.72 407.73,-742.65 407.43,-743.59 406.94,-744.53 406.27,-745.47 405.43,-746.41 404.44,-747.35 403.29,-748.28 402,-749.2 400.58,-750.11 399.03,-751.01 397.36,-751.89 395.58,-752.75 393.7,-753.59 391.72,-754.41 389.67,-755.2 387.54,-755.96 385.33,-756.69 383.07,-757.39 380.75,-758.06 378.38,-758.69 375.98,-759.29 373.53,-759.84 371.05,-760.35 368.54,-760.82 366.01,-761.25 363.46,-761.64 360.9,-761.97 358.32,-762.26 355.73,-762.51 353.13,-762.7 350.53,-762.85 347.92,-762.95 345.31,-763 342.69,-763 340.08,-762.95 337.47,-762.85 334.87,-762.7 332.27,-762.51 329.68,-762.26 327.1,-761.97 324.54,-761.64 321.99,-761.25 319.46,-760.82 316.95,-760.35 314.47,-759.84 312.02,-759.29 309.62,-758.69 307.25,-758.06 304.93,-757.39 302.67,-756.69 300.46,-755.96 298.33,-755.2 296.28,-754.41 294.3,-753.59 292.42,-752.75 290.64,-751.89 288.97,-751.01 287.42,-750.11 286,-749.2 284.71,-748.28 283.56,-747.35 282.57,-746.41 281.73,-745.47 281.06,-744.53 280.57,-743.59 280.27,-742.65 280.14,-741.72 280.22,-740.8 280.49,-739.89 280.96,-738.99 281.64,-738.11 282.53,-737.25 283.63,-736.41 284.93,-735.59 286.45,-734.8 288.17,-734.04 290.09,-733.31 292.22,-732.61 294.54,-731.94 297.04,-731.31 299.73,-730.71 302.59,-730.16 305.61,-729.65 308.78,-729.18 312.09,-728.75 315.53,-728.36 319.09,-728.03 322.75,-727.74 326.49,-727.49 330.31,-727.3 334.18,-727.15 338.09,-727.05 342.03,-727 345.97,-727 349.91,-727.05"/>
<text text-anchor="middle" x="344" y="-741.3" font-family="Times,serif" font-size="14.00">data_provider</text>
</g>
<!-- gws -->
<g id="node2" class="node">
<title>gws</title>
<path fill="gray" stroke="black" d="M316,-483.73C316,-485.53 303.9,-487 289,-487 274.1,-487 262,-485.53 262,-483.73 262,-483.73 262,-454.27 262,-454.27 262,-452.47 274.1,-451 289,-451 303.9,-451 316,-452.47 316,-454.27 316,-454.27 316,-483.73 316,-483.73"/>
<path fill="none" stroke="black" d="M316,-483.73C316,-481.92 303.9,-480.45 289,-480.45 274.1,-480.45 262,-481.92 262,-483.73"/>
<text text-anchor="middle" x="289" y="-465.3" font-family="Times,serif" font-size="14.00">gws</text>
</g>
<!-- data_provider&#45;&gt;gws -->
<g id="edge16" class="edge">
<title>data_provider&#45;&gt;gws</title>
<path fill="none" stroke="black" stroke-width="4" d="M351.45,-727.07C368.65,-685.14 406.09,-574.83 358,-505 350.3,-493.83 337.94,-486.02 325.79,-480.67"/>
<polygon fill="black" stroke="black" stroke-width="4" points="326.77,-477.29 316.19,-476.88 324.21,-483.8 326.77,-477.29"/>
</g>
<!-- arrivals -->
<g id="node4" class="node">
<title>arrivals</title>
<g id="a_node4"><a xlink:href="https://arrivals.ceda.ac.uk" xlink:title="arrivals">
<polygon fill="white" stroke="black" points="316,-580 202,-580 202,-526 316,-526 316,-580"/>
<image xlink:href="images/arrivals_s.png" width="114px" height="54px" preserveAspectRatio="xMinYMin meet" x="202" y="-580"/>
<text text-anchor="middle" x="259" y="-549.9" font-family="Times,serif" font-size="12.00">arrivals</text>
</a>
</g>
</g>
<!-- data_provider&#45;&gt;arrivals -->
<g id="edge14" class="edge">
<title>data_provider&#45;&gt;arrivals</title>
<path fill="none" stroke="black" stroke-width="4" d="M336.31,-726.8C322.5,-695.94 293.24,-630.54 274.95,-589.64"/>
<polygon fill="black" stroke="black" stroke-width="4" points="278.05,-588.01 270.77,-580.31 271.66,-590.87 278.05,-588.01"/>
</g>
<!-- processing_disk -->
<g id="node8" class="node">
<title>processing_disk</title>
<g id="a_node8"><a xlink:href="stream.html?streamname=simple_checks" xlink:title="processing_disk">
<path fill="gray" stroke="black" d="M244,-483.73C244,-485.53 220.69,-487 192,-487 163.31,-487 140,-485.53 140,-483.73 140,-483.73 140,-454.27 140,-454.27 140,-452.47 163.31,-451 192,-451 220.69,-451 244,-452.47 244,-454.27 244,-454.27 244,-483.73 244,-483.73"/>
<path fill="none" stroke="black" d="M244,-483.73C244,-481.92 220.69,-480.45 192,-480.45 163.31,-480.45 140,-481.92 140,-483.73"/>
<text text-anchor="middle" x="192" y="-465.3" font-family="Times,serif" font-size="14.00">processing_disk</text>
</a>
</g>
</g>
<!-- data_provider&#45;&gt;processing_disk -->
<g id="edge15" class="edge">
<title>data_provider&#45;&gt;processing_disk</title>
<path fill="none" stroke="black" stroke-width="4" d="M344.76,-726.75C346.43,-680.66 348.61,-556.01 325,-524 315.79,-511.51 284.07,-498.4 253.92,-488.22"/>
<polygon fill="black" stroke="black" stroke-width="4" points="254.81,-484.83 244.22,-485.02 252.62,-491.48 254.81,-484.83"/>
<text text-anchor="middle" x="354" y="-603.8" font-family="Times,serif" font-size="14.00">pull</text>
</g>
<!-- deposit -->
<g id="node11" class="node">
<title>deposit</title>
<g id="a_node11"><a xlink:href="stream.html?streamname=simple_checks" xlink:title="deposit">
<ellipse fill="blue" stroke="black" cx="168" cy="-364" rx="36.29" ry="18"/>
<text text-anchor="middle" x="168" y="-360.3" font-family="Times,serif" font-size="14.00">deposit</text>
</a>
</g>
</g>
<!-- gws&#45;&gt;deposit -->
<g id="edge11" class="edge">
<title>gws&#45;&gt;deposit</title>
<path fill="none" stroke="black" stroke-width="4" d="M266.55,-451.81C255.61,-443.72 242.4,-433.62 231,-424 217.28,-412.43 202.61,-398.77 190.88,-387.51"/>
<polygon fill="black" stroke="black" stroke-width="4" points="193.26,-384.94 183.64,-380.5 188.39,-389.97 193.26,-384.94"/>
</g>
<!-- ds -->
<g id="node3" class="node">
<title>ds</title>
<polygon fill="yellow" stroke="black" points="89.68,-727.05 91.46,-727.15 93.22,-727.3 94.95,-727.49 96.65,-727.74 98.31,-728.03 99.92,-728.36 101.48,-728.75 102.99,-729.18 104.43,-729.65 105.8,-730.16 107.1,-730.71 108.32,-731.31 109.45,-731.94 110.51,-732.61 111.47,-733.31 112.35,-734.04 113.13,-734.8 113.81,-735.59 114.41,-736.41 114.91,-737.25 115.31,-738.11 115.62,-738.99 115.83,-739.89 115.96,-740.8 115.99,-741.72 115.93,-742.65 115.79,-743.59 115.57,-744.53 115.27,-745.47 114.89,-746.41 114.44,-747.35 113.92,-748.28 113.33,-749.2 112.69,-750.11 111.98,-751.01 111.22,-751.89 110.41,-752.75 109.56,-753.59 108.67,-754.41 107.73,-755.2 106.76,-755.96 105.76,-756.69 104.74,-757.39 103.68,-758.06 102.61,-758.69 101.52,-759.29 100.41,-759.84 99.28,-760.35 98.14,-760.82 96.99,-761.25 95.84,-761.64 94.67,-761.97 93.5,-762.26 92.33,-762.51 91.15,-762.7 89.96,-762.85 88.78,-762.95 87.59,-763 86.41,-763 85.22,-762.95 84.04,-762.85 82.85,-762.7 81.67,-762.51 80.5,-762.26 79.33,-761.97 78.16,-761.64 77.01,-761.25 75.86,-760.82 74.72,-760.35 73.59,-759.84 72.48,-759.29 71.39,-758.69 70.32,-758.06 69.26,-757.39 68.24,-756.69 67.24,-755.96 66.27,-755.2 65.33,-754.41 64.44,-753.59 63.59,-752.75 62.78,-751.89 62.02,-751.01 61.31,-750.11 60.67,-749.2 60.08,-748.28 59.56,-747.35 59.11,-746.41 58.73,-745.47 58.43,-744.53 58.21,-743.59 58.07,-742.65 58.01,-741.72 58.04,-740.8 58.17,-739.89 58.38,-738.99 58.69,-738.11 59.09,-737.25 59.59,-736.41 60.19,-735.59 60.87,-734.8 61.65,-734.04 62.53,-733.31 63.49,-732.61 64.55,-731.94 65.68,-731.31 66.9,-730.71 68.2,-730.16 69.57,-729.65 71.01,-729.18 72.52,-728.75 74.08,-728.36 75.69,-728.03 77.35,-727.74 79.05,-727.49 80.78,-727.3 82.54,-727.15 84.32,-727.05 86.1,-727 87.9,-727 89.68,-727.05"/>
<text text-anchor="middle" x="87" y="-741.3" font-family="Times,serif" font-size="14.00">ds</text>
</g>
<!-- ingest_control -->
<g id="node9" class="node">
<title>ingest_control</title>
<g id="a_node9"><a xlink:href="stream.html?streamname=simple_checks" xlink:title="ingest_control">
<ellipse fill="blue" stroke="black" cx="87" cy="-651" rx="61.19" ry="18"/>
<text text-anchor="middle" x="87" y="-647.3" font-family="Times,serif" font-size="14.00">ingest_control</text>
</a>
</g>
</g>
<!-- ds&#45;&gt;ingest_control -->
<g id="edge13" class="edge">
<title>ds&#45;&gt;ingest_control</title>
<path fill="none" stroke="black" d="M87,-726.7C87,-713.46 87,-694.95 87,-679.66"/>
<polygon fill="black" stroke="black" points="90.5,-679.23 87,-669.23 83.5,-679.23 90.5,-679.23"/>
</g>
<!-- arrivals_disk -->
<g id="node6" class="node">
<title>arrivals_disk</title>
<g id="a_node6"><a xlink:href="http://stats.ceda.ac.uk/ingest_state/stream.html?streamname=simple_checks" xlink:title="arrivals_disk">
<path fill="gray" stroke="black" d="M122,-483.73C122,-485.53 102.73,-487 79,-487 55.27,-487 36,-485.53 36,-483.73 36,-483.73 36,-454.27 36,-454.27 36,-452.47 55.27,-451 79,-451 102.73,-451 122,-452.47 122,-454.27 122,-454.27 122,-483.73 122,-483.73"/>
<path fill="none" stroke="black" d="M122,-483.73C122,-481.92 102.73,-480.45 79,-480.45 55.27,-480.45 36,-481.92 36,-483.73"/>
<text text-anchor="middle" x="79" y="-465.3" font-family="Times,serif" font-size="14.00">arrivals_disk</text>
</a>
</g>
</g>
<!-- arrivals&#45;&gt;arrivals_disk -->
<g id="edge1" class="edge">
<title>arrivals&#45;&gt;arrivals_disk</title>
<path fill="none" stroke="black" stroke-width="4" d="M201.55,-525.83C176.41,-514.38 147.36,-501.14 123.85,-490.43"/>
<polygon fill="black" stroke="black" stroke-width="4" points="125.02,-487.12 114.47,-486.16 122.12,-493.49 125.02,-487.12"/>
</g>
<!-- fileops -->
<g id="node5" class="node">
<title>fileops</title>
<g id="a_node5"><a xlink:href="stream.html?streamname=simple_checks" xlink:title="fileops">
<ellipse fill="blue" stroke="black" cx="60" cy="-553" rx="34.39" ry="18"/>
<text text-anchor="middle" x="60" y="-549.3" font-family="Times,serif" font-size="14.00">fileops</text>
</a>
</g>
</g>
<!-- fileops&#45;&gt;arrivals_disk -->
<g id="edge2" class="edge">
<title>fileops&#45;&gt;arrivals_disk</title>
<path fill="none" stroke="black" d="M63.94,-535.01C66.47,-524.09 69.81,-509.66 72.71,-497.17"/>
<polygon fill="black" stroke="black" points="76.16,-497.78 75,-487.25 69.34,-496.2 76.16,-497.78"/>
</g>
<!-- arrivals_disk&#45;&gt;deposit -->
<g id="edge12" class="edge">
<title>arrivals_disk&#45;&gt;deposit</title>
<path fill="none" stroke="black" stroke-width="4" d="M93.7,-450.99C108.38,-433.99 131.09,-407.72 147.54,-388.68"/>
<polygon fill="black" stroke="black" stroke-width="4" points="150.27,-390.87 154.16,-381.02 144.97,-386.29 150.27,-390.87"/>
</g>
<!-- ingest_logs -->
<g id="node7" class="node">
<title>ingest_logs</title>
<polygon fill="gray" stroke="black" points="256,-669 184,-669 184,-633 262,-633 262,-663 256,-669"/>
<polyline fill="none" stroke="black" points="256,-669 256,-663 "/>
<polyline fill="none" stroke="black" points="262,-663 256,-663 "/>
<text text-anchor="middle" x="223" y="-647.3" font-family="Times,serif" font-size="14.00">ingest_logs</text>
</g>
<!-- ingest_mon -->
<g id="node10" class="node">
<title>ingest_mon</title>
<g id="a_node10"><a xlink:href="index.html?namefilter=!test&amp;reclen=30&amp;ingest6=on&amp;ingest4=on&amp;ingest5=on&amp;running=on&amp;warn=on&amp;fail=on&amp;killed=on&amp;died=on" xlink:title="ingest_mon">
<polygon fill="white" stroke="black" points="183.5,-582 112.5,-582 112.5,-524 183.5,-524 183.5,-582"/>
<image xlink:href="images/ingest_mon_s.png" width="71px" height="58px" preserveAspectRatio="xMinYMin meet" x="112.5" y="-582"/>
<text text-anchor="middle" x="148" y="-549.9" font-family="Times,serif" font-size="12.00">ingest_mon</text>
</a>
</g>
</g>
<!-- ingest_logs&#45;&gt;ingest_mon -->
<g id="edge4" class="edge">
<title>ingest_logs&#45;&gt;ingest_mon</title>
<path fill="none" stroke="black" d="M209.59,-632.84C200.35,-621.01 187.72,-604.84 176.3,-590.23"/>
<polygon fill="black" stroke="black" points="179.03,-588.03 170.11,-582.3 173.51,-592.34 179.03,-588.03"/>
</g>
<!-- processing_disk&#45;&gt;deposit -->
<g id="edge10" class="edge">
<title>processing_disk&#45;&gt;deposit</title>
<path fill="none" stroke="black" stroke-width="4" d="M188.04,-450.99C184.3,-434.96 178.65,-410.69 174.29,-392.01"/>
<polygon fill="black" stroke="black" stroke-width="4" points="177.65,-390.98 171.97,-382.03 170.83,-392.57 177.65,-390.98"/>
</g>
<!-- ingest_control&#45;&gt;fileops -->
<g id="edge5" class="edge">
<title>ingest_control&#45;&gt;fileops</title>
<path fill="none" stroke="black" d="M82.17,-632.84C78.1,-618.37 72.21,-597.41 67.52,-580.74"/>
<polygon fill="black" stroke="black" points="70.86,-579.69 64.79,-571.01 64.12,-581.59 70.86,-579.69"/>
</g>
<!-- ingest_control&#45;&gt;ingest_logs -->
<g id="edge3" class="edge">
<title>ingest_control&#45;&gt;ingest_logs</title>
<path fill="none" stroke="black" d="M148.36,-651C156.88,-651 165.4,-651 173.93,-651"/>
<polygon fill="black" stroke="black" points="173.93,-654.5 183.93,-651 173.93,-647.5 173.93,-654.5"/>
</g>
<!-- deposit_rpc -->
<g id="node14" class="node">
<title>deposit_rpc</title>
<polygon fill="gray" stroke="black" points="84,-376 16,-376 16,-352 84,-352 96,-364 84,-376"/>
<text text-anchor="middle" x="56" y="-360.3" font-family="Times,serif" font-size="14.00">deposit_rpc</text>
</g>
<!-- ingest_control&#45;&gt;deposit_rpc -->
<g id="edge17" class="edge">
<title>ingest_control&#45;&gt;deposit_rpc</title>
<path fill="none" stroke="black" d="M62.6,-634.22C46.31,-622.14 26.24,-603.85 17,-582 -10.52,-516.91 21.94,-432.84 42.18,-391.02"/>
<polygon fill="black" stroke="black" points="45.32,-392.56 46.65,-382.05 39.06,-389.44 45.32,-392.56"/>
</g>
<!-- archive -->
<g id="node12" class="node">
<title>archive</title>
<path fill="gray" stroke="black" d="M507,-378.73C507,-380.53 494.45,-382 479,-382 463.55,-382 451,-380.53 451,-378.73 451,-378.73 451,-349.27 451,-349.27 451,-347.47 463.55,-346 479,-346 494.45,-346 507,-347.47 507,-349.27 507,-349.27 507,-378.73 507,-378.73"/>
<path fill="none" stroke="black" d="M507,-378.73C507,-376.92 494.45,-375.45 479,-375.45 463.55,-375.45 451,-376.92 451,-378.73"/>
<text text-anchor="middle" x="479" y="-360.3" font-family="Times,serif" font-size="14.00">archive</text>
</g>
<!-- deposit&#45;&gt;archive -->
<g id="edge7" class="edge">
<title>deposit&#45;&gt;archive</title>
<path fill="none" stroke="black" stroke-width="4" d="M179.67,-381.28C192.27,-398.24 214.06,-423.02 240,-433.5 259.88,-441.53 413.3,-441.97 433,-433.5 450.61,-425.92 462.32,-407.57 469.51,-391.63"/>
<polygon fill="black" stroke="black" stroke-width="4" points="472.85,-392.71 473.42,-382.13 466.38,-390.05 472.85,-392.71"/>
</g>
<!-- deposit_log -->
<g id="node15" class="node">
<title>deposit_log</title>
<polygon fill="gray" stroke="black" points="308,-376 240,-376 240,-352 308,-352 320,-364 308,-376"/>
<text text-anchor="middle" x="280" y="-360.3" font-family="Times,serif" font-size="14.00">deposit_log</text>
</g>
<!-- deposit&#45;&gt;deposit_log -->
<g id="edge31" class="edge">
<title>deposit&#45;&gt;deposit_log</title>
<path fill="none" stroke="black" d="M204.75,-364C213.04,-364 221.33,-364 229.62,-364"/>
<polygon fill="black" stroke="black" points="229.73,-367.5 239.73,-364 229.73,-360.5 229.73,-367.5"/>
</g>
<!-- jasmin -->
<g id="node20" class="node">
<title>jasmin</title>
<ellipse fill="none" stroke="black" cx="400" cy="-102" rx="34.39" ry="18"/>
<text text-anchor="middle" x="400" y="-98.3" font-family="Times,serif" font-size="14.00">jasmin</text>
</g>
<!-- archive&#45;&gt;jasmin -->
<g id="edge25" class="edge">
<title>archive&#45;&gt;jasmin</title>
<path fill="none" stroke="black" stroke-width="4" d="M473.82,-345.94C460.4,-301.77 424.43,-183.42 408.18,-129.92"/>
<polygon fill="black" stroke="black" stroke-width="4" points="411.46,-128.67 405.2,-120.12 404.76,-130.71 411.46,-128.67"/>
</g>
<!-- ftp2 -->
<g id="node21" class="node">
<title>ftp2</title>
<ellipse fill="none" stroke="black" cx="479" cy="-102" rx="27" ry="18"/>
<text text-anchor="middle" x="479" y="-98.3" font-family="Times,serif" font-size="14.00">ftp2</text>
</g>
<!-- archive&#45;&gt;ftp2 -->
<g id="edge26" class="edge">
<title>archive&#45;&gt;ftp2</title>
<path fill="none" stroke="black" stroke-width="4" d="M479,-345.94C479,-301.87 479,-183.91 479,-130.25"/>
<polygon fill="black" stroke="black" stroke-width="4" points="482.5,-130.12 479,-120.12 475.5,-130.12 482.5,-130.12"/>
</g>
<!-- dap -->
<g id="node22" class="node">
<title>dap</title>
<g id="a_node22"><a xlink:href="https://dap.ceda.ac.uk" xlink:title="dap.ceda.ac.uk">
<polygon fill="none" stroke="black" points="638,-128.5 524,-128.5 524,-75.5 638,-75.5 638,-128.5"/>
<image xlink:href="images/dap_s.png" width="114px" height="53px" preserveAspectRatio="xMinYMin meet" x="524" y="-128.5"/>
<text text-anchor="middle" x="581" y="-98.9" font-family="Times,serif" font-size="12.00">dap.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- archive&#45;&gt;dap -->
<g id="edge27" class="edge">
<title>archive&#45;&gt;dap</title>
<path fill="none" stroke="black" stroke-width="4" d="M485.69,-345.94C502.17,-303.95 544.95,-194.9 567.16,-138.28"/>
<polygon fill="black" stroke="black" stroke-width="4" points="570.54,-139.26 570.93,-128.67 564.02,-136.7 570.54,-139.26"/>
</g>
<!-- deposit_web -->
<g id="node13" class="node">
<title>deposit_web</title>
<g id="a_node13"><a xlink:href="https://archdash1.ceda.ac.uk/current/a_sum" xlink:title="deposit_web">
<polygon fill="none" stroke="black" points="432.5,-393 355.5,-393 355.5,-335 432.5,-335 432.5,-393"/>
<image xlink:href="images/deposit_mon_s.png" width="71px" height="58px" preserveAspectRatio="xMinYMin meet" x="358.5" y="-393"/>
<text text-anchor="middle" x="394" y="-360.9" font-family="Times,serif" font-size="12.00">deposit_web</text>
</a>
</g>
</g>
<!-- deposit_rpc&#45;&gt;deposit -->
<g id="edge32" class="edge">
<title>deposit_rpc&#45;&gt;deposit</title>
<path fill="none" stroke="black" d="M96.25,-364C104.62,-364 112.99,-364 121.36,-364"/>
<polygon fill="black" stroke="black" points="121.56,-367.5 131.56,-364 121.56,-360.5 121.56,-367.5"/>
</g>
<!-- deposit_log&#45;&gt;deposit_web -->
<g id="edge6" class="edge">
<title>deposit_log&#45;&gt;deposit_web</title>
<path fill="none" stroke="black" d="M320.08,-364C328.43,-364 336.77,-364 345.12,-364"/>
<polygon fill="black" stroke="black" points="345.31,-367.5 355.31,-364 345.31,-360.5 345.31,-367.5"/>
</g>
<!-- fast_indexer_q -->
<g id="node16" class="node">
<title>fast_indexer_q</title>
<polygon fill="gray" stroke="black" points="316.5,-271 231.5,-271 231.5,-247 316.5,-247 328.5,-259 316.5,-271"/>
<text text-anchor="middle" x="280" y="-255.3" font-family="Times,serif" font-size="14.00">fast_indexer_q</text>
</g>
<!-- deposit_log&#45;&gt;fast_indexer_q -->
<g id="edge8" class="edge">
<title>deposit_log&#45;&gt;fast_indexer_q</title>
<path fill="none" stroke="black" d="M280,-345.99C280,-330.04 280,-305.91 280,-287.27"/>
<polygon fill="black" stroke="black" points="283.5,-287.03 280,-277.03 276.5,-287.03 283.5,-287.03"/>
</g>
<!-- slow_indexer_q -->
<g id="node17" class="node">
<title>slow_indexer_q</title>
<polygon fill="gray" stroke="black" points="201.5,-271 110.5,-271 110.5,-247 201.5,-247 213.5,-259 201.5,-271"/>
<text text-anchor="middle" x="162" y="-255.3" font-family="Times,serif" font-size="14.00">slow_indexer_q</text>
</g>
<!-- deposit_log&#45;&gt;slow_indexer_q -->
<g id="edge9" class="edge">
<title>deposit_log&#45;&gt;slow_indexer_q</title>
<path fill="none" stroke="black" d="M260.51,-345.99C241.04,-328.99 210.94,-302.72 189.14,-283.69"/>
<polygon fill="black" stroke="black" points="191.35,-280.97 181.51,-277.03 186.75,-286.25 191.35,-280.97"/>
</g>
<!-- fbi -->
<g id="node18" class="node">
<title>fbi</title>
<polygon fill="gray" stroke="black" points="183,-204 135,-204 135,-168 189,-168 189,-198 183,-204"/>
<polyline fill="none" stroke="black" points="183,-204 183,-198 "/>
<polyline fill="none" stroke="black" points="189,-198 183,-198 "/>
<text text-anchor="middle" x="162" y="-182.3" font-family="Times,serif" font-size="14.00">fbi</text>
</g>
<!-- fast_indexer_q&#45;&gt;fbi -->
<g id="edge18" class="edge">
<title>fast_indexer_q&#45;&gt;fbi</title>
<path fill="none" stroke="black" d="M251.74,-240.99C235.6,-231.28 215.2,-219.01 197.93,-208.62"/>
<polygon fill="black" stroke="black" points="199.59,-205.54 189.22,-203.38 195.98,-211.53 199.59,-205.54"/>
</g>
<!-- slow_indexer_q&#45;&gt;fbi -->
<g id="edge19" class="edge">
<title>slow_indexer_q&#45;&gt;fbi</title>
<path fill="none" stroke="black" d="M162,-240.81C162,-232.79 162,-223.05 162,-214.07"/>
<polygon fill="black" stroke="black" points="165.5,-214.03 162,-204.03 158.5,-214.03 165.5,-214.03"/>
</g>
<!-- data -->
<g id="node23" class="node">
<title>data</title>
<g id="a_node23"><a xlink:href="http://data.ceda.ac.uk" xlink:title="data.ceda.ac.uk">
<polygon fill="none" stroke="black" points="214.5,-131 107.5,-131 107.5,-73 214.5,-73 214.5,-131"/>
<image xlink:href="images/data_s.png" width="107px" height="58px" preserveAspectRatio="xMinYMin meet" x="107.5" y="-131"/>
<text text-anchor="middle" x="161" y="-98.9" font-family="Times,serif" font-size="12.00">data.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- fbi&#45;&gt;data -->
<g id="edge21" class="edge">
<title>fbi&#45;&gt;data</title>
<path fill="none" stroke="black" d="M161.79,-167.61C161.69,-159.89 161.58,-150.48 161.47,-141.25"/>
<polygon fill="black" stroke="black" points="164.96,-140.97 161.34,-131.01 157.96,-141.05 164.96,-140.97"/>
</g>
<!-- haystack -->
<g id="node19" class="node">
<title>haystack</title>
<polygon fill="gray" stroke="black" points="316,-204 258,-204 258,-168 322,-168 322,-198 316,-204"/>
<polyline fill="none" stroke="black" points="316,-204 316,-198 "/>
<polyline fill="none" stroke="black" points="322,-198 316,-198 "/>
<text text-anchor="middle" x="290" y="-182.3" font-family="Times,serif" font-size="14.00">haystack</text>
</g>
<!-- catalogue -->
<g id="node24" class="node">
<title>catalogue</title>
<g id="a_node24"><a xlink:href="https://catalogue.ceda.ac.uk" xlink:title="catalogue.ceda.ac.uk">
<polygon fill="none" stroke="black" points="347.5,-120 232.5,-120 232.5,-84 347.5,-84 347.5,-120"/>
<image xlink:href="images/cat_s.png" width="115px" height="36px" preserveAspectRatio="xMinYMin meet" x="232.5" y="-120"/>
<text text-anchor="middle" x="290" y="-98.9" font-family="Times,serif" font-size="12.00">catalogue.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- haystack&#45;&gt;catalogue -->
<g id="edge20" class="edge">
<title>haystack&#45;&gt;catalogue</title>
<path fill="none" stroke="black" d="M290,-167.61C290,-156.77 290,-142.6 290,-130.29"/>
<polygon fill="black" stroke="black" points="293.5,-130.08 290,-120.08 286.5,-130.08 293.5,-130.08"/>
</g>
<!-- jasmin_user -->
<g id="node27" class="node">
<title>jasmin_user</title>
<polygon fill="yellow" stroke="black" points="393.31,-0.05 396.83,-0.15 400.31,-0.3 403.74,-0.49 407.1,-0.74 410.39,-1.03 413.59,-1.36 416.68,-1.75 419.66,-2.18 422.51,-2.65 425.22,-3.16 427.79,-3.71 430.21,-4.31 432.46,-4.94 434.54,-5.61 436.45,-6.31 438.18,-7.04 439.73,-7.8 441.09,-8.59 442.27,-9.41 443.25,-10.25 444.05,-11.11 444.66,-11.99 445.09,-12.89 445.33,-13.8 445.4,-14.72 445.29,-15.65 445.01,-16.59 444.57,-17.53 443.97,-18.47 443.22,-19.41 442.33,-20.35 441.3,-21.28 440.14,-22.2 438.86,-23.11 437.46,-24.01 435.96,-24.89 434.36,-25.75 432.67,-26.59 430.9,-27.41 429.05,-28.2 427.13,-28.96 425.15,-29.69 423.12,-30.39 421.03,-31.06 418.91,-31.69 416.74,-32.29 414.54,-32.84 412.31,-33.35 410.06,-33.82 407.79,-34.25 405.5,-34.64 403.19,-34.97 400.87,-35.26 398.54,-35.51 396.21,-35.7 393.87,-35.85 391.52,-35.95 389.17,-36 386.83,-36 384.48,-35.95 382.13,-35.85 379.79,-35.7 377.46,-35.51 375.13,-35.26 372.81,-34.97 370.5,-34.64 368.21,-34.25 365.94,-33.82 363.69,-33.35 361.46,-32.84 359.26,-32.29 357.09,-31.69 354.97,-31.06 352.88,-30.39 350.85,-29.69 348.87,-28.96 346.95,-28.2 345.1,-27.41 343.33,-26.59 341.64,-25.75 340.04,-24.89 338.54,-24.01 337.14,-23.11 335.86,-22.2 334.7,-21.28 333.67,-20.35 332.78,-19.41 332.03,-18.47 331.43,-17.53 330.99,-16.59 330.71,-15.65 330.6,-14.72 330.67,-13.8 330.91,-12.89 331.34,-11.99 331.95,-11.11 332.75,-10.25 333.73,-9.41 334.91,-8.59 336.27,-7.8 337.82,-7.04 339.55,-6.31 341.46,-5.61 343.54,-4.94 345.79,-4.31 348.21,-3.71 350.78,-3.16 353.49,-2.65 356.34,-2.18 359.32,-1.75 362.41,-1.36 365.61,-1.03 368.9,-0.74 372.26,-0.49 375.69,-0.3 379.17,-0.15 382.69,-0.05 386.23,0 389.77,0 393.31,-0.05"/>
<text text-anchor="middle" x="388" y="-14.3" font-family="Times,serif" font-size="14.00">jasmin_user</text>
</g>
<!-- jasmin&#45;&gt;jasmin_user -->
<g id="edge28" class="edge">
<title>jasmin&#45;&gt;jasmin_user</title>
<path fill="none" stroke="black" stroke-width="4" d="M397.51,-84.01C395.92,-73.09 393.8,-58.66 391.98,-46.17"/>
<polygon fill="black" stroke="black" stroke-width="4" points="395.44,-45.64 390.52,-36.25 388.51,-46.65 395.44,-45.64"/>
</g>
<!-- user -->
<g id="node26" class="node">
<title>user</title>
<polygon fill="yellow" stroke="black" points="494.68,-0.05 496.46,-0.15 498.22,-0.3 499.95,-0.49 501.65,-0.74 503.31,-1.03 504.92,-1.36 506.48,-1.75 507.99,-2.18 509.43,-2.65 510.8,-3.16 512.1,-3.71 513.32,-4.31 514.45,-4.94 515.51,-5.61 516.47,-6.31 517.35,-7.04 518.13,-7.8 518.81,-8.59 519.41,-9.41 519.91,-10.25 520.31,-11.11 520.62,-11.99 520.83,-12.89 520.96,-13.8 520.99,-14.72 520.93,-15.65 520.79,-16.59 520.57,-17.53 520.27,-18.47 519.89,-19.41 519.44,-20.35 518.92,-21.28 518.33,-22.2 517.69,-23.11 516.98,-24.01 516.22,-24.89 515.41,-25.75 514.56,-26.59 513.67,-27.41 512.73,-28.2 511.76,-28.96 510.76,-29.69 509.74,-30.39 508.68,-31.06 507.61,-31.69 506.52,-32.29 505.41,-32.84 504.28,-33.35 503.14,-33.82 501.99,-34.25 500.84,-34.64 499.67,-34.97 498.5,-35.26 497.33,-35.51 496.15,-35.7 494.96,-35.85 493.78,-35.95 492.59,-36 491.41,-36 490.22,-35.95 489.04,-35.85 487.85,-35.7 486.67,-35.51 485.5,-35.26 484.33,-34.97 483.16,-34.64 482.01,-34.25 480.86,-33.82 479.72,-33.35 478.59,-32.84 477.48,-32.29 476.39,-31.69 475.32,-31.06 474.26,-30.39 473.24,-29.69 472.24,-28.96 471.27,-28.2 470.33,-27.41 469.44,-26.59 468.59,-25.75 467.78,-24.89 467.02,-24.01 466.31,-23.11 465.67,-22.2 465.08,-21.28 464.56,-20.35 464.11,-19.41 463.73,-18.47 463.43,-17.53 463.21,-16.59 463.07,-15.65 463.01,-14.72 463.04,-13.8 463.17,-12.89 463.38,-11.99 463.69,-11.11 464.09,-10.25 464.59,-9.41 465.19,-8.59 465.87,-7.8 466.65,-7.04 467.53,-6.31 468.49,-5.61 469.55,-4.94 470.68,-4.31 471.9,-3.71 473.2,-3.16 474.57,-2.65 476.01,-2.18 477.52,-1.75 479.08,-1.36 480.69,-1.03 482.35,-0.74 484.05,-0.49 485.78,-0.3 487.54,-0.15 489.32,-0.05 491.1,0 492.9,0 494.68,-0.05"/>
<text text-anchor="middle" x="492" y="-14.3" font-family="Times,serif" font-size="14.00">user</text>
</g>
<!-- ftp2&#45;&gt;user -->
<g id="edge29" class="edge">
<title>ftp2&#45;&gt;user</title>
<path fill="none" stroke="black" stroke-width="4" d="M481.69,-84.01C483.44,-73.01 485.74,-58.46 487.73,-45.92"/>
<polygon fill="black" stroke="black" stroke-width="4" points="491.2,-46.39 489.31,-35.97 484.29,-45.3 491.2,-46.39"/>
</g>
<!-- dap&#45;&gt;user -->
<g id="edge30" class="edge">
<title>dap&#45;&gt;user</title>
<path fill="none" stroke="black" stroke-width="4" d="M552.84,-75.05C540.34,-63.54 525.85,-50.19 514.15,-39.4"/>
<polygon fill="black" stroke="black" stroke-width="4" points="516.27,-36.6 506.55,-32.4 511.53,-41.75 516.27,-36.6"/>
</g>
<!-- data&#45;&gt;user -->
<g id="edge24" class="edge">
<title>data&#45;&gt;user</title>
<path fill="none" stroke="black" d="M205.07,-72.98C211.26,-69.9 217.67,-67.11 224,-65 321.73,-32.37 354.79,-63.78 454,-36 456.97,-35.17 460,-34.14 462.99,-33.01"/>
<polygon fill="black" stroke="black" points="464.41,-36.21 472.3,-29.14 461.72,-29.75 464.41,-36.21"/>
</g>
<!-- catalogue&#45;&gt;user -->
<g id="edge23" class="edge">
<title>catalogue&#45;&gt;user</title>
<path fill="none" stroke="black" d="M318.73,-83.91C330.35,-77.44 344.06,-70.34 357,-65 398.59,-47.82 411.82,-51.67 454,-36 456.73,-34.99 459.54,-33.87 462.35,-32.71"/>
<polygon fill="black" stroke="black" points="463.9,-35.85 471.69,-28.67 461.12,-29.42 463.9,-35.85"/>
</g>
<!-- archive_site -->
<g id="node25" class="node">
<title>archive_site</title>
<g id="a_node25"><a xlink:href="https://archive.ceda.ac.uk" xlink:title="archive.ceda.ac.uk">
<polygon fill="none" stroke="black" points="760,-131 656,-131 656,-73 760,-73 760,-131"/>
<image xlink:href="images/archive_s.png" width="104px" height="58px" preserveAspectRatio="xMinYMin meet" x="656" y="-131"/>
<text text-anchor="middle" x="708" y="-98.9" font-family="Times,serif" font-size="12.00">archive.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- archive_site&#45;&gt;user -->
<g id="edge22" class="edge">
<title>archive_site&#45;&gt;user</title>
<path fill="none" stroke="black" d="M663.35,-72.99C657.94,-70.1 652.41,-67.36 647,-65 607.06,-47.6 558.58,-34.39 526.59,-26.69"/>
<polygon fill="black" stroke="black" points="527.35,-23.27 516.82,-24.38 525.75,-30.08 527.35,-23.27"/>
</g>
</g>
</svg>

 </div>

</div>

<script>

function update_node_text(title_text, text) {
    var node = get_node(title_text);
    var t = node.getElementsByTagName("text")[0];
    t.textContent = text;
}

function append_node_text(title_text, text) {
    var node = get_node(title_text);
    var t = node.getElementsByTagName("text")[0];
    t.textContent = node.title + text;
}




function node_shapes(node) {
    // file the main shape object for a node
    var shapes = [];
    for (var i of ["polygon", "rectangle", "path", "ellipse"]) {
        for (j of node.getElementsByTagName(i)) {
            shapes.push(j);
        }
    }
    return shapes
}

function store_base() {
    var svg = document.getElementById("graph0");
    var titleTags = svg.getElementsByTagName("title");
    for (var i = 0; i < titleTags.length; i++) {
        var p = titleTags[i].parentElement;
        var s = node_shapes(p)[0];
        p.fill = s.getAttribute("fill");
        p.stroke = s.getAttribute("stroke");
        p.title = titleTags[i].textContent;
    }
}

function update_node_colour(title_text, fill, stroke) {
    var node = get_node(title_text);
    for (var s of node_shapes(node)) {
        s.setAttribute("fill", fill);
        s.setAttribute("stroke", stroke);
    }
}

function flag_error(title_text) {update_node_colour(title_text, "#ff9999", "#ff0000"); warn_sounds("error")}
function flag_warning(title_text) {update_node_colour(title_text, "#ffcc55", "#ccaa00"); warn_sounds("warn")}
function flag_ok(title_text) {update_node_colour(title_text, "#77cc77", "#00ff00")}

function flag_clear(title_text) {
    var node = get_node(title_text);
    for (var s of node_shapes(node)) {
        s.setAttribute("fill", node.fill);
        s.setAttribute("stroke", node.stroke);
    }
}

function tooltip(title_text, text) {
    var node = get_node(title_text);
    var a = node.getElementsByTagName("a")[0];
    a.setAttribute("xlink:title", text);
}

function get_node(title_text) {
    var svg = document.getElementById("graph0");
    var titleTags = svg.getElementsByTagName("title");
    var found;
    for (var i = 0; i < titleTags.length; i++) {
        if (titleTags[i].textContent == title_text) {
            found = titleTags[i];
            break;
        }
    }
    return found.parentElement;
}

function get_from_grabstore(groupkey, checkkey) {
    var value = '-';
    if (grabstore[groupkey] != undefined) {
        value = grabstore[groupkey][checkkey]
    }
    return value
}

function up(title_text, test_name) {
    var value = get_from_grabstore("uptimerobot", test_name);
    if (value == "-") {flag_clear(title_text)}
    else if (value == 2) {flag_ok(title_text)}
    else {flag_error(title_text)}
    setTimeout(function () {up(title_text, test_name)}, 1000);
}

function disk_full(title_text, test_name, warn_level, error_level) {
    var value = get_from_grabstore("checks", test_name);
    if (value == "-") {flag_clear(title_text)}
    else if (value > error_level) {flag_error(title_text)}
    else if (value > warn_level) {flag_warning(title_text)}
    else {flag_ok(title_text)}
    tooltip(title_text, " [" + value +"%]");
    setTimeout(function () {disk_full(title_text, test_name, warn_level, error_level)}, 2400);
}

function warn_from_simple(title_text, test_name, just_warn) {
    var value = get_from_grabstore("checks", test_name);
    if (value == "-") {flag_clear(title_text)}
    else if (just_warn && !value) {flag_warning(title_text)}
    else if (!value) {flag_error(title_text)}
    else {flag_ok(title_text)}
    tooltip(title_text, test_name + " = " + value);
    setTimeout(function () {warn_from_simple(title_text, test_name, just_warn)}, 2400);
}

function warn_from_simple2(title_text, test_name, warn_level, error_level, lessthan) {
    var value = get_from_grabstore("checks", test_name);
    if (value == "-") {flag_clear(title_text)}
    else if (lessthan == undefined && value > error_level) {flag_error(title_text)}
    else if (lessthan == undefined && value > warn_level) {flag_warning(title_text)}
    else if (lessthan != undefined && value < warn_level) {flag_warning(title_text)}
    else if (lessthan != undefined && value < error_level) {flag_error(title_text)}
    else {flag_ok(title_text)}
    tooltip(title_text, test_name + " = " + value);
    setTimeout(function () {warn_from_simple2(title_text, test_name, warn_level, error_level, lessthan)}, 2400);
}

function ingest_mon_update() {
    title_text = "ingest_mon";
    var error = false;
    var warn = false;
    var ok = false;
    var tip = '';
    var k = 0;
    if (grabstore["ingest"] != undefined) {
        var s = grabstore["ingest"];
        error = s["running"] > 30 || s["warn"] > 30 || s["fail"] > 10 || s["died"] > 10 || s["killed"] > 10;
        warn = s["running"] > 25 || s["warn"] > 10 || s["fail"] > 5 || s["died"] > 5 || s["killed"] > 5;
        ok = true;
        for (k in s) { tip += k + ": " + s[k] + "\n"}
        var n = 0;
        for (k of ["fail", "died", "killed"]) {if (s[k] != undefined) {n += s[k]}}
        update_node_text(title_text, n + " Failed");
        tooltip(title_text, tip);
    }

    if (error) {flag_error(title_text)}
    else if (warn) {flag_warning(title_text)}
    else if (ok) {flag_ok(title_text)}
    else {flag_clear(title_text)}
    setTimeout(function () {ingest_mon_update()}, 2400);
}

function currrent_deposits_update() {
    title_text = "deposit_web";
    var error = false;
    var warn = false;
    var ok = false;
    var text = '';
    var tip = '';
    if (grabstore["current_deposits"] != undefined) {
        var s = grabstore["current_deposits"];
        error = s["filerate_2min"] < 0.01;
        warn = s["volrate_2min"] < 0.1;
        text = s["filerate_2min"].toPrecision(2) + " files/s";
        ok = true;
        for (var k in s) { tip += k + ": " + s[k].toPrecision(3) + "\n"}
    }

    if (error) {flag_error(title_text)}
    else if (warn) {flag_warning(title_text)}
    else if (ok) {flag_ok(title_text)}
    else {flag_clear(title_text)}
    tooltip(title_text, tip);
    update_node_text(title_text, text);

    setTimeout(function () {currrent_deposits_update()}, 2100);
}


function queue_update(title_text, key, warn_limit, error_limit) {
    var error = false;
    var warn = false;
    var ok = false;
    if (grabstore["current_deposits"] != undefined) {
        var s = grabstore["current_deposits"];
        error = s[key] > error_limit;
        warn = s[key] > warn_limit;
        ok = true;
        update_node_text(title_text, key + ": " + s[key])
    }

    if (error) {flag_error(title_text)}
    else if (warn) {flag_warning(title_text)}
    else if (ok) {flag_ok(title_text)}
    else {flag_clear(title_text)}
    setTimeout(function () {queue_update(title_text, key, warn_limit, error_limit)}, 2300);
}

var lastlplayed_warn = Date.now();
var lastlplayed_error = Date.now();

function warn_sounds(sound) {
    var clang = new Audio("sounds/clang.mp3");
    var snap = new Audio("sounds/snap.mp3");
    if (sound=="warn" && Date.now() - lastlplayed_warn > 20000) {
        clang.play();
        lastlplayed_warn = Date.now()
    }
    if (sound=="error" && Date.now() - lastlplayed_error > 10000) {
        snap.play();
        lastlplayed_error = Date.now()
    }

}



store_base();
    uptimerobot(60000);
    grab("https://archdash.ceda.ac.uk/current/api", "current_deposits", 5000);
    ingest_sum(30000);
    simple_check_output(30000);
    up("arrivals", "arrivals");
    up("dap", "http://dap.ceda.ac.uk");
    up("archive_site", "archive.ceda.ac.uk");
    up("ftp2", "ftp.ceda.ac.uk");
    up("catalogue", "catalogue.ceda.ac.uk");
    up("data", "data.ceda.ac.uk");
    up("fbi", "FBI");
    up("haystack", "Haystack");
    disk_full("processing_disk", "/datacentre/processing3", 80, 95);
    disk_full("arrivals_disk", "/datacentre/arrivals", 70, 95);
    warn_from_simple("fileops", "arrivals_deleter_ok");
    warn_from_simple("deposit", "deposit_client_ok");
    warn_from_simple2("ingest_control", "crontab_lines", 100, 10, true);
    ingest_mon_update();
    currrent_deposits_update();
    queue_update("fast_indexer_q", "fastq_len", 0, 1000);
    queue_update("slow_indexer_q", "slowq_len", 0, 1000);
    queue_update("deposit_rpc", "rcpq_len", 0, 10);

</script>

</body>
</html>