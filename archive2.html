<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    <script src="stats_grab.js"></script>
</head>
<body>

 <h1>Hi thffffere</h1>

 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (20200408.0750)
 -->
<!-- Title: G Pages: 1 -->
<svg width="664pt" height="925pt"
 viewBox="0.00 0.00 664.00 925.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 921)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-921 660,-921 660,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_arrivals</title>
<polygon fill="#ccccff" stroke="#ccccff" points="8,-649 8,-838 224,-838 224,-649 8,-649"/>
<text text-anchor="middle" x="116" y="-822.8" font-family="Times,serif" font-size="14.00">Arrivals</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_es</title>
<polygon fill="#ccffcc" stroke="#ccffcc" points="355,-439 355,-514 647,-514 647,-439 355,-439"/>
<text text-anchor="middle" x="501" y="-498.8" font-family="Times,serif" font-size="14.00">elastic search</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ingest</title>
<polygon fill="lightgrey" stroke="lightgrey" points="298,-743 298,-840 648,-840 648,-743 298,-743"/>
<text text-anchor="middle" x="473" y="-824.8" font-family="Times,serif" font-size="14.00">Ingest</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_rabbitmq</title>
<polygon fill="#ffccff" stroke="#ffccff" points="302,-544 302,-724 568,-724 568,-544 302,-544"/>
<text text-anchor="middle" x="435" y="-708.8" font-family="Times,serif" font-size="14.00">RabbitMQ</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_deposit</title>
<polygon fill="pink" stroke="pink" points="132,-439 132,-630 294,-630 294,-439 132,-439"/>
<text text-anchor="middle" x="213" y="-614.8" font-family="Times,serif" font-size="14.00">Deposit server</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_access</title>
<polygon fill="#ffffcc" stroke="#ffffcc" points="107,-65 107,-420 385,-420 385,-65 107,-65"/>
<text text-anchor="middle" x="246" y="-404.8" font-family="Times,serif" font-size="14.00">access</text>
</g>
<!-- data_provider -->
<g id="node1" class="node">
<title>data_provider</title>
<polygon fill="yellow" stroke="black" points="266.91,-881.05 270.82,-881.15 274.69,-881.3 278.51,-881.49 282.25,-881.74 285.91,-882.03 289.47,-882.36 292.91,-882.75 296.22,-883.18 299.39,-883.65 302.41,-884.16 305.27,-884.71 307.96,-885.31 310.46,-885.94 312.78,-886.61 314.91,-887.31 316.83,-888.04 318.55,-888.8 320.07,-889.59 321.37,-890.41 322.47,-891.25 323.36,-892.11 324.04,-892.99 324.51,-893.89 324.78,-894.8 324.86,-895.72 324.73,-896.65 324.43,-897.59 323.94,-898.53 323.27,-899.47 322.43,-900.41 321.44,-901.35 320.29,-902.28 319,-903.2 317.58,-904.11 316.03,-905.01 314.36,-905.89 312.58,-906.75 310.7,-907.59 308.72,-908.41 306.67,-909.2 304.54,-909.96 302.33,-910.69 300.07,-911.39 297.75,-912.06 295.38,-912.69 292.98,-913.29 290.53,-913.84 288.05,-914.35 285.54,-914.82 283.01,-915.25 280.46,-915.64 277.9,-915.97 275.32,-916.26 272.73,-916.51 270.13,-916.7 267.53,-916.85 264.92,-916.95 262.31,-917 259.69,-917 257.08,-916.95 254.47,-916.85 251.87,-916.7 249.27,-916.51 246.68,-916.26 244.1,-915.97 241.54,-915.64 238.99,-915.25 236.46,-914.82 233.95,-914.35 231.47,-913.84 229.02,-913.29 226.62,-912.69 224.25,-912.06 221.93,-911.39 219.67,-910.69 217.46,-909.96 215.33,-909.2 213.28,-908.41 211.3,-907.59 209.42,-906.75 207.64,-905.89 205.97,-905.01 204.42,-904.11 203,-903.2 201.71,-902.28 200.56,-901.35 199.57,-900.41 198.73,-899.47 198.06,-898.53 197.57,-897.59 197.27,-896.65 197.14,-895.72 197.22,-894.8 197.49,-893.89 197.96,-892.99 198.64,-892.11 199.53,-891.25 200.63,-890.41 201.93,-889.59 203.45,-888.8 205.17,-888.04 207.09,-887.31 209.22,-886.61 211.54,-885.94 214.04,-885.31 216.73,-884.71 219.59,-884.16 222.61,-883.65 225.78,-883.18 229.09,-882.75 232.53,-882.36 236.09,-882.03 239.75,-881.74 243.49,-881.49 247.31,-881.3 251.18,-881.15 255.09,-881.05 259.03,-881 262.97,-881 266.91,-881.05"/>
<text text-anchor="middle" x="261" y="-895.3" font-family="Times,serif" font-size="14.00">data_provider</text>
</g>
<!-- gws -->
<g id="node2" class="node">
<title>gws</title>
<path fill="gray" stroke="black" d="M288,-794.73C288,-796.53 275.9,-798 261,-798 246.1,-798 234,-796.53 234,-794.73 234,-794.73 234,-765.27 234,-765.27 234,-763.47 246.1,-762 261,-762 275.9,-762 288,-763.47 288,-765.27 288,-765.27 288,-794.73 288,-794.73"/>
<path fill="none" stroke="black" d="M288,-794.73C288,-792.92 275.9,-791.45 261,-791.45 246.1,-791.45 234,-792.92 234,-794.73"/>
<text text-anchor="middle" x="261" y="-776.3" font-family="Times,serif" font-size="14.00">gws</text>
</g>
<!-- data_provider&#45;&gt;gws -->
<g id="edge17" class="edge">
<title>data_provider&#45;&gt;gws</title>
<path fill="none" stroke="black" stroke-width="4" d="M261,-880.99C261,-861.92 261,-830.75 261,-808.28"/>
<polygon fill="black" stroke="black" stroke-width="4" points="264.5,-808.03 261,-798.03 257.5,-808.03 264.5,-808.03"/>
</g>
<!-- arrivals -->
<g id="node4" class="node">
<title>arrivals</title>
<g id="a_node4"><a xlink:href="https://arrivals.ceda.ac.uk" xlink:title="arrivals">
<polygon fill="white" stroke="black" points="130,-807 16,-807 16,-753 130,-753 130,-807"/>
<image xlink:href="arrivals_s.png" width="114px" height="54px" preserveAspectRatio="xMinYMin meet" x="16" y="-807"/>
<text text-anchor="middle" x="73" y="-776.9" font-family="Times,serif" font-size="12.00">arrivals</text>
</a>
</g>
</g>
<!-- data_provider&#45;&gt;arrivals -->
<g id="edge15" class="edge">
<title>data_provider&#45;&gt;arrivals</title>
<path fill="none" stroke="black" stroke-width="4" d="M223.5,-883.47C198.58,-873.03 165.66,-857.72 139,-840 127.68,-832.47 116.3,-823.11 106.26,-814.07"/>
<polygon fill="black" stroke="black" stroke-width="4" points="108.59,-811.45 98.86,-807.25 103.85,-816.6 108.59,-811.45"/>
</g>
<!-- processing_disk -->
<g id="node12" class="node">
<title>processing_disk</title>
<path fill="gray" stroke="black" d="M410,-794.73C410,-796.53 386.69,-798 358,-798 329.31,-798 306,-796.53 306,-794.73 306,-794.73 306,-765.27 306,-765.27 306,-763.47 329.31,-762 358,-762 386.69,-762 410,-763.47 410,-765.27 410,-765.27 410,-794.73 410,-794.73"/>
<path fill="none" stroke="black" d="M410,-794.73C410,-792.92 386.69,-791.45 358,-791.45 329.31,-791.45 306,-792.92 306,-794.73"/>
<text text-anchor="middle" x="358" y="-776.3" font-family="Times,serif" font-size="14.00">processing_disk</text>
</g>
<!-- data_provider&#45;&gt;processing_disk -->
<g id="edge16" class="edge">
<title>data_provider&#45;&gt;processing_disk</title>
<path fill="none" stroke="black" stroke-width="4" d="M274.9,-881.24C291.23,-861.54 318.48,-828.67 337.3,-805.97"/>
<polygon fill="black" stroke="black" stroke-width="4" points="340.12,-808.04 343.81,-798.11 334.74,-803.58 340.12,-808.04"/>
<text text-anchor="middle" x="311" y="-851.8" font-family="Times,serif" font-size="14.00">pull</text>
</g>
<!-- deposit -->
<g id="node18" class="node">
<title>deposit</title>
<ellipse fill="blue" stroke="black" cx="176" cy="-570" rx="36.29" ry="18"/>
<text text-anchor="middle" x="176" y="-566.3" font-family="Times,serif" font-size="14.00">deposit</text>
</g>
<!-- gws&#45;&gt;deposit -->
<g id="edge12" class="edge">
<title>gws&#45;&gt;deposit</title>
<path fill="none" stroke="black" stroke-width="4" d="M258.57,-761.98C254.53,-736.55 245.12,-687.51 228,-649 219.43,-629.73 206.22,-609.99 195.25,-595.18"/>
<polygon fill="black" stroke="black" stroke-width="4" points="197.94,-592.93 189.11,-587.08 192.36,-597.16 197.94,-592.93"/>
</g>
<!-- ds -->
<g id="node3" class="node">
<title>ds</title>
<polygon fill="yellow" stroke="black" points="491.68,-881.05 493.46,-881.15 495.22,-881.3 496.95,-881.49 498.65,-881.74 500.31,-882.03 501.92,-882.36 503.48,-882.75 504.99,-883.18 506.43,-883.65 507.8,-884.16 509.1,-884.71 510.32,-885.31 511.45,-885.94 512.51,-886.61 513.47,-887.31 514.35,-888.04 515.13,-888.8 515.81,-889.59 516.41,-890.41 516.91,-891.25 517.31,-892.11 517.62,-892.99 517.83,-893.89 517.96,-894.8 517.99,-895.72 517.93,-896.65 517.79,-897.59 517.57,-898.53 517.27,-899.47 516.89,-900.41 516.44,-901.35 515.92,-902.28 515.33,-903.2 514.69,-904.11 513.98,-905.01 513.22,-905.89 512.41,-906.75 511.56,-907.59 510.67,-908.41 509.73,-909.2 508.76,-909.96 507.76,-910.69 506.74,-911.39 505.68,-912.06 504.61,-912.69 503.52,-913.29 502.41,-913.84 501.28,-914.35 500.14,-914.82 498.99,-915.25 497.84,-915.64 496.67,-915.97 495.5,-916.26 494.33,-916.51 493.15,-916.7 491.96,-916.85 490.78,-916.95 489.59,-917 488.41,-917 487.22,-916.95 486.04,-916.85 484.85,-916.7 483.67,-916.51 482.5,-916.26 481.33,-915.97 480.16,-915.64 479.01,-915.25 477.86,-914.82 476.72,-914.35 475.59,-913.84 474.48,-913.29 473.39,-912.69 472.32,-912.06 471.26,-911.39 470.24,-910.69 469.24,-909.96 468.27,-909.2 467.33,-908.41 466.44,-907.59 465.59,-906.75 464.78,-905.89 464.02,-905.01 463.31,-904.11 462.67,-903.2 462.08,-902.28 461.56,-901.35 461.11,-900.41 460.73,-899.47 460.43,-898.53 460.21,-897.59 460.07,-896.65 460.01,-895.72 460.04,-894.8 460.17,-893.89 460.38,-892.99 460.69,-892.11 461.09,-891.25 461.59,-890.41 462.19,-889.59 462.87,-888.8 463.65,-888.04 464.53,-887.31 465.49,-886.61 466.55,-885.94 467.68,-885.31 468.9,-884.71 470.2,-884.16 471.57,-883.65 473.01,-883.18 474.52,-882.75 476.08,-882.36 477.69,-882.03 479.35,-881.74 481.05,-881.49 482.78,-881.3 484.54,-881.15 486.32,-881.05 488.1,-881 489.9,-881 491.68,-881.05"/>
<text text-anchor="middle" x="489" y="-895.3" font-family="Times,serif" font-size="14.00">ds</text>
</g>
<!-- ingest_control -->
<g id="node10" class="node">
<title>ingest_control</title>
<ellipse fill="blue" stroke="black" cx="489" cy="-780" rx="61.19" ry="18"/>
<text text-anchor="middle" x="489" y="-776.3" font-family="Times,serif" font-size="14.00">ingest_control</text>
</g>
<!-- ds&#45;&gt;ingest_control -->
<g id="edge14" class="edge">
<title>ds&#45;&gt;ingest_control</title>
<path fill="none" stroke="black" d="M489,-880.99C489,-861.92 489,-830.75 489,-808.28"/>
<polygon fill="black" stroke="black" points="492.5,-808.03 489,-798.03 485.5,-808.03 492.5,-808.03"/>
</g>
<!-- arrivals_disk -->
<g id="node6" class="node">
<title>arrivals_disk</title>
<path fill="gray" stroke="black" d="M216,-689.73C216,-691.53 196.73,-693 173,-693 149.27,-693 130,-691.53 130,-689.73 130,-689.73 130,-660.27 130,-660.27 130,-658.47 149.27,-657 173,-657 196.73,-657 216,-658.47 216,-660.27 216,-660.27 216,-689.73 216,-689.73"/>
<path fill="none" stroke="black" d="M216,-689.73C216,-687.92 196.73,-686.45 173,-686.45 149.27,-686.45 130,-687.92 130,-689.73"/>
<text text-anchor="middle" x="173" y="-671.3" font-family="Times,serif" font-size="14.00">arrivals_disk</text>
</g>
<!-- arrivals&#45;&gt;arrivals_disk -->
<g id="edge1" class="edge">
<title>arrivals&#45;&gt;arrivals_disk</title>
<path fill="none" stroke="black" stroke-width="4" d="M98.49,-752.74C114.11,-736.66 133.96,-716.21 149.24,-700.47"/>
<polygon fill="black" stroke="black" stroke-width="4" points="151.89,-702.77 156.34,-693.16 146.87,-697.89 151.89,-702.77"/>
</g>
<!-- fileops -->
<g id="node5" class="node">
<title>fileops</title>
<ellipse fill="blue" stroke="black" cx="182" cy="-780" rx="34.39" ry="18"/>
<text text-anchor="middle" x="182" y="-776.3" font-family="Times,serif" font-size="14.00">fileops</text>
</g>
<!-- fileops&#45;&gt;arrivals_disk -->
<g id="edge2" class="edge">
<title>fileops&#45;&gt;arrivals_disk</title>
<path fill="none" stroke="black" d="M180.51,-761.99C179.11,-745.96 176.99,-721.69 175.36,-703.01"/>
<polygon fill="black" stroke="black" points="178.85,-702.69 174.49,-693.03 171.87,-703.3 178.85,-702.69"/>
</g>
<!-- arrivals_disk&#45;&gt;deposit -->
<g id="edge13" class="edge">
<title>arrivals_disk&#45;&gt;deposit</title>
<path fill="none" stroke="black" stroke-width="4" d="M173.5,-656.99C173.96,-641.04 174.66,-616.91 175.21,-598.27"/>
<polygon fill="black" stroke="black" stroke-width="4" points="178.71,-598.13 175.5,-588.03 171.71,-597.93 178.71,-598.13"/>
</g>
<!-- haystack -->
<g id="node7" class="node">
<title>haystack</title>
<ellipse fill="blue" stroke="black" cx="405" cy="-465" rx="41.69" ry="18"/>
<text text-anchor="middle" x="405" y="-461.3" font-family="Times,serif" font-size="14.00">haystack</text>
</g>
<!-- catalogue -->
<g id="node25" class="node">
<title>catalogue</title>
<g id="a_node25"><a xlink:href="https://catalogue.ceda.ac.uk" xlink:title="catalogue.ceda.ac.uk">
<polygon fill="white" stroke="black" points="376.5,-294 261.5,-294 261.5,-258 376.5,-258 376.5,-294"/>
<image xlink:href="cat_s.png" width="115px" height="36px" preserveAspectRatio="xMinYMin meet" x="261.5" y="-294"/>
<text text-anchor="middle" x="319" y="-272.9" font-family="Times,serif" font-size="12.00">catalogue.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- haystack&#45;&gt;catalogue -->
<g id="edge23" class="edge">
<title>haystack&#45;&gt;catalogue</title>
<path fill="none" stroke="black" d="M406.39,-446.77C407.74,-420.12 407.1,-368.1 386,-331 379.11,-318.89 368.36,-308.44 357.46,-300.05"/>
<polygon fill="black" stroke="black" points="359.32,-297.07 349.16,-294.03 355.21,-302.74 359.32,-297.07"/>
</g>
<!-- fbi -->
<g id="node8" class="node">
<title>fbi</title>
<ellipse fill="blue" stroke="black" cx="492" cy="-465" rx="27" ry="18"/>
<text text-anchor="middle" x="492" y="-461.3" font-family="Times,serif" font-size="14.00">fbi</text>
</g>
<!-- data -->
<g id="node24" class="node">
<title>data</title>
<g id="a_node24"><a xlink:href="http://data.ceda.ac.uk" xlink:title="data.ceda.ac.uk">
<polygon fill="white" stroke="black" points="373.5,-221 266.5,-221 266.5,-163 373.5,-163 373.5,-221"/>
<image xlink:href="data_s.png" width="107px" height="58px" preserveAspectRatio="xMinYMin meet" x="266.5" y="-221"/>
<text text-anchor="middle" x="320" y="-188.9" font-family="Times,serif" font-size="12.00">data.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- fbi&#45;&gt;data -->
<g id="edge24" class="edge">
<title>fbi&#45;&gt;data</title>
<path fill="none" stroke="black" d="M491.45,-446.76C489.8,-417.16 483.22,-355.64 457,-312 436.4,-277.71 402.54,-248.16 373.63,-227.09"/>
<polygon fill="black" stroke="black" points="375.41,-224.05 365.23,-221.1 371.34,-229.75 375.41,-224.05"/>
</g>
<!-- ingest_logs -->
<g id="node9" class="node">
<title>ingest_logs</title>
<ellipse fill="blue" stroke="black" cx="588" cy="-465" rx="50.89" ry="18"/>
<text text-anchor="middle" x="588" y="-461.3" font-family="Times,serif" font-size="14.00">ingest_logs</text>
</g>
<!-- ingest_mon -->
<g id="node11" class="node">
<title>ingest_mon</title>
<g id="a_node11"><a xlink:href="http://stats.ceda.ac.uk/ingest_state/index.html?reclen=30&amp;ingest1=on&amp;ingest2=on&amp;ingest3=on&amp;ingest4=on&amp;ingest5=on&amp;running=on&amp;warn=on&amp;fail=on&amp;killed=on&amp;died=on" xlink:title="ingest_mon">
<polygon fill="none" stroke="black" points="639.5,-809 568.5,-809 568.5,-751 639.5,-751 639.5,-809"/>
<image xlink:href="ingest_mon_s.png" width="71px" height="58px" preserveAspectRatio="xMinYMin meet" x="568.5" y="-809"/>
<text text-anchor="middle" x="604" y="-776.9" font-family="Times,serif" font-size="12.00">ingest_mon</text>
</a>
</g>
</g>
<!-- ingest_logs&#45;&gt;ingest_mon -->
<g id="edge4" class="edge">
<title>ingest_logs&#45;&gt;ingest_mon</title>
<path fill="none" stroke="black" d="M593.35,-482.96C596.55,-493.96 600.31,-508.68 602,-522 611.79,-599.07 609.19,-690.19 606.52,-740.59"/>
<polygon fill="black" stroke="black" points="603.02,-740.53 605.96,-750.71 610.01,-740.92 603.02,-740.53"/>
</g>
<!-- ingest_control&#45;&gt;fileops -->
<g id="edge5" class="edge">
<title>ingest_control&#45;&gt;fileops</title>
<path fill="none" stroke="black" d="M477.93,-797.83C464.58,-817.44 440.15,-847.84 410,-860.5 373.94,-875.64 268.35,-879.2 234,-860.5 213.44,-849.3 199.77,-826.1 191.63,-807.46"/>
<polygon fill="black" stroke="black" points="194.77,-805.9 187.77,-797.96 188.29,-808.54 194.77,-805.9"/>
</g>
<!-- ingest_control&#45;&gt;ingest_logs -->
<g id="edge3" class="edge">
<title>ingest_control&#45;&gt;ingest_logs</title>
<path fill="none" stroke="black" d="M523.89,-765.02C541.47,-756.05 561.28,-742.56 572,-724 594.25,-685.48 591.63,-551.93 589.32,-493.61"/>
<polygon fill="black" stroke="black" points="592.81,-493.16 588.89,-483.31 585.81,-493.45 592.81,-493.16"/>
</g>
<!-- deposit_rpc -->
<g id="node14" class="node">
<title>deposit_rpc</title>
<polygon fill="red" stroke="black" stroke-width="0.5" points="310,-657 326,-657 326,-693 310,-693 310,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="326,-657 342,-657 342,-693 326,-693 326,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="342,-657 358,-657 358,-693 342,-693 342,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="358,-657 374,-657 374,-693 358,-693 358,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="374,-657 390,-657 390,-693 374,-693 374,-657"/>
<polygon fill="none" stroke="black" points="390,-693 310,-693 310,-657 390,-657 390,-693"/>
<text text-anchor="middle" x="350" y="-671.3" font-family="Times,serif" font-size="14.00">deposit_rpc</text>
</g>
<!-- ingest_control&#45;&gt;deposit_rpc -->
<g id="edge18" class="edge">
<title>ingest_control&#45;&gt;deposit_rpc</title>
<path fill="none" stroke="black" d="M460.76,-763.94C442.46,-753.66 418.5,-739.19 399,-724 390.12,-717.08 381.12,-708.73 373.3,-700.95"/>
<polygon fill="black" stroke="black" points="375.42,-698.11 365.92,-693.43 370.42,-703.02 375.42,-698.11"/>
</g>
<!-- processing_disk&#45;&gt;deposit -->
<g id="edge11" class="edge">
<title>processing_disk&#45;&gt;deposit</title>
<path fill="none" stroke="black" stroke-width="4" d="M336.29,-761.77C324.2,-751.55 309.35,-737.9 298,-724 273.42,-693.89 279.62,-677.32 253,-649 247.09,-642.71 244.37,-642.48 237,-638 230.54,-634.08 227.78,-634.86 222,-630 210.44,-620.27 199.88,-607.2 191.81,-595.83"/>
<polygon fill="black" stroke="black" stroke-width="4" points="194.68,-593.83 186.14,-587.56 188.9,-597.79 194.68,-593.83"/>
</g>
<!-- rbq -->
<g id="node13" class="node">
<title>rbq</title>
<ellipse fill="blue" stroke="black" cx="533" cy="-675" rx="27" ry="18"/>
<text text-anchor="middle" x="533" y="-671.3" font-family="Times,serif" font-size="14.00">rbq</text>
</g>
<!-- deposit_rpc&#45;&gt;deposit -->
<g id="edge32" class="edge">
<title>deposit_rpc&#45;&gt;deposit</title>
<path fill="none" stroke="black" d="M329.48,-656.91C319.89,-649.86 307.97,-642.34 296,-638 264.9,-626.72 250.9,-646.1 222,-630 208.35,-622.4 197.36,-608.91 189.56,-596.74"/>
<polygon fill="black" stroke="black" points="192.36,-594.6 184.22,-587.82 186.35,-598.2 192.36,-594.6"/>
</g>
<!-- deposit_log -->
<g id="node15" class="node">
<title>deposit_log</title>
<polygon fill="red" stroke="black" stroke-width="0.5" points="408,-657 424,-657 424,-693 408,-693 408,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="424,-657 440,-657 440,-693 424,-693 424,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="440,-657 456,-657 456,-693 440,-693 440,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="456,-657 472,-657 472,-693 456,-693 456,-657"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="472,-657 488,-657 488,-693 472,-693 472,-657"/>
<polygon fill="none" stroke="black" points="488,-693 408,-693 408,-657 488,-657 488,-693"/>
<text text-anchor="middle" x="448" y="-671.3" font-family="Times,serif" font-size="14.00">deposit_log</text>
</g>
<!-- fast_indexer_q -->
<g id="node16" class="node">
<title>fast_indexer_q</title>
<polygon fill="red" stroke="black" stroke-width="0.5" points="337.5,-552 356.9,-552 356.9,-588 337.5,-588 337.5,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="356.9,-552 376.3,-552 376.3,-588 356.9,-588 356.9,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="376.3,-552 395.7,-552 395.7,-588 376.3,-588 376.3,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="395.7,-552 415.1,-552 415.1,-588 395.7,-588 395.7,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="415.1,-552 434.5,-552 434.5,-588 415.1,-588 415.1,-552"/>
<polygon fill="none" stroke="black" points="434.5,-588 337.5,-588 337.5,-552 434.5,-552 434.5,-588"/>
<text text-anchor="middle" x="386" y="-566.3" font-family="Times,serif" font-size="14.00">fast_indexer_q</text>
</g>
<!-- deposit_log&#45;&gt;fast_indexer_q -->
<g id="edge9" class="edge">
<title>deposit_log&#45;&gt;fast_indexer_q</title>
<path fill="none" stroke="black" d="M437.76,-656.99C427.89,-640.59 412.82,-615.55 401.48,-596.72"/>
<polygon fill="black" stroke="black" points="404.41,-594.8 396.25,-588.03 398.41,-598.41 404.41,-594.8"/>
</g>
<!-- slow_indexer_q -->
<g id="node17" class="node">
<title>slow_indexer_q</title>
<polygon fill="red" stroke="black" stroke-width="0.5" points="452.5,-552 473.1,-552 473.1,-588 452.5,-588 452.5,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="473.1,-552 493.7,-552 493.7,-588 473.1,-588 473.1,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="493.7,-552 514.3,-552 514.3,-588 493.7,-588 493.7,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="514.3,-552 534.9,-552 534.9,-588 514.3,-588 514.3,-552"/>
<polygon fill="red" stroke="black" stroke-width="0.5" points="534.9,-552 555.5,-552 555.5,-588 534.9,-588 534.9,-552"/>
<polygon fill="none" stroke="black" points="555.5,-588 452.5,-588 452.5,-552 555.5,-552 555.5,-588"/>
<text text-anchor="middle" x="504" y="-566.3" font-family="Times,serif" font-size="14.00">slow_indexer_q</text>
</g>
<!-- deposit_log&#45;&gt;slow_indexer_q -->
<g id="edge10" class="edge">
<title>deposit_log&#45;&gt;slow_indexer_q</title>
<path fill="none" stroke="black" d="M457.25,-656.99C466.12,-640.67 479.65,-615.78 489.88,-596.97"/>
<polygon fill="black" stroke="black" points="493.04,-598.49 494.74,-588.03 486.89,-595.15 493.04,-598.49"/>
</g>
<!-- deposit_web -->
<g id="node20" class="node">
<title>deposit_web</title>
<g id="a_node20"><a xlink:href="https://archdash1.ceda.ac.uk/current/a_sum" xlink:title="current\ndeposits">
<polygon fill="none" stroke="black" points="285.5,-599 230.5,-599 230.5,-541 285.5,-541 285.5,-599"/>
<image xlink:href="deposit_mon_s.png" width="55px" height="58px" preserveAspectRatio="xMinYMin meet" x="230.5" y="-599"/>
<text text-anchor="middle" x="258" y="-573.4" font-family="Times,serif" font-size="12.00">current</text>
<text text-anchor="middle" x="258" y="-560.4" font-family="Times,serif" font-size="12.00">deposits</text>
</a>
</g>
</g>
<!-- deposit_log&#45;&gt;deposit_web -->
<g id="edge8" class="edge">
<title>deposit_log&#45;&gt;deposit_web</title>
<path fill="none" stroke="black" d="M415.18,-656.93C409.8,-654.22 404.26,-651.5 399,-649 388.03,-643.79 385.73,-641.12 374,-638 341.17,-629.28 327.13,-647.46 298,-630 289.08,-624.66 281.71,-616.47 275.83,-607.87"/>
<polygon fill="black" stroke="black" points="278.71,-605.87 270.45,-599.24 272.77,-609.58 278.71,-605.87"/>
</g>
<!-- fast_indexer_q&#45;&gt;fbi -->
<g id="edge6" class="edge">
<title>fast_indexer_q&#45;&gt;fbi</title>
<path fill="none" stroke="black" d="M410.96,-551.87C424.94,-541.68 442.28,-528.03 456,-514 463.06,-506.78 469.93,-498.15 475.75,-490.2"/>
<polygon fill="black" stroke="black" points="478.67,-492.14 481.61,-481.96 472.97,-488.08 478.67,-492.14"/>
</g>
<!-- slow_indexer_q&#45;&gt;fbi -->
<g id="edge7" class="edge">
<title>slow_indexer_q&#45;&gt;fbi</title>
<path fill="none" stroke="black" d="M502.02,-551.99C500.15,-535.96 497.32,-511.69 495.15,-493.01"/>
<polygon fill="black" stroke="black" points="498.62,-492.56 493.98,-483.03 491.67,-493.37 498.62,-492.56"/>
</g>
<!-- deposit&#45;&gt;deposit_log -->
<g id="edge31" class="edge">
<title>deposit&#45;&gt;deposit_log</title>
<path fill="none" stroke="black" d="M184.03,-587.62C191.7,-601.52 204.67,-620.54 222,-630 239.24,-639.41 290.48,-635.91 310,-638 349.63,-642.25 360.89,-637.32 399,-649 402.39,-650.04 405.83,-651.3 409.23,-652.7"/>
<polygon fill="black" stroke="black" points="408.08,-656.03 418.64,-656.94 410.96,-649.64 408.08,-656.03"/>
</g>
<!-- archive -->
<g id="node19" class="node">
<title>archive</title>
<path fill="gray" stroke="black" d="M227,-479.73C227,-481.53 214.45,-483 199,-483 183.55,-483 171,-481.53 171,-479.73 171,-479.73 171,-450.27 171,-450.27 171,-448.47 183.55,-447 199,-447 214.45,-447 227,-448.47 227,-450.27 227,-450.27 227,-479.73 227,-479.73"/>
<path fill="none" stroke="black" d="M227,-479.73C227,-477.92 214.45,-476.45 199,-476.45 183.55,-476.45 171,-477.92 171,-479.73"/>
<text text-anchor="middle" x="199" y="-461.3" font-family="Times,serif" font-size="14.00">archive</text>
</g>
<!-- deposit&#45;&gt;archive -->
<g id="edge19" class="edge">
<title>deposit&#45;&gt;archive</title>
<path fill="none" stroke="black" stroke-width="4" d="M179.8,-551.99C183.38,-535.96 188.8,-511.69 192.97,-493.01"/>
<polygon fill="black" stroke="black" stroke-width="4" points="196.43,-493.56 195.2,-483.03 189.6,-492.03 196.43,-493.56"/>
</g>
<!-- jasmin -->
<g id="node21" class="node">
<title>jasmin</title>
<ellipse fill="blue" stroke="black" cx="221" cy="-360" rx="34.39" ry="18"/>
<text text-anchor="middle" x="221" y="-356.3" font-family="Times,serif" font-size="14.00">jasmin</text>
</g>
<!-- archive&#45;&gt;jasmin -->
<g id="edge25" class="edge">
<title>archive&#45;&gt;jasmin</title>
<path fill="none" stroke="black" stroke-width="4" d="M202.63,-446.99C206.06,-430.96 211.24,-406.69 215.23,-388.01"/>
<polygon fill="black" stroke="black" stroke-width="4" points="218.7,-388.54 217.36,-378.03 211.85,-387.08 218.7,-388.54"/>
</g>
<!-- ftp2 -->
<g id="node22" class="node">
<title>ftp2</title>
<ellipse fill="blue" stroke="black" cx="142" cy="-360" rx="27" ry="18"/>
<text text-anchor="middle" x="142" y="-356.3" font-family="Times,serif" font-size="14.00">ftp2</text>
</g>
<!-- archive&#45;&gt;ftp2 -->
<g id="edge26" class="edge">
<title>archive&#45;&gt;ftp2</title>
<path fill="none" stroke="black" stroke-width="4" d="M189.59,-446.99C180.39,-430.37 166.29,-404.88 155.82,-385.97"/>
<polygon fill="black" stroke="black" stroke-width="4" points="158.77,-384.07 150.86,-377.02 152.64,-387.46 158.77,-384.07"/>
</g>
<!-- dap -->
<g id="node23" class="node">
<title>dap</title>
<g id="a_node23"><a xlink:href="https://dap.ceda.ac.uk" xlink:title="dap.ceda.ac.uk">
<polygon fill="white" stroke="black" points="377,-126 263,-126 263,-73 377,-73 377,-126"/>
<image xlink:href="dap_s.png" width="114px" height="53px" preserveAspectRatio="xMinYMin meet" x="263" y="-126"/>
<text text-anchor="middle" x="320" y="-96.4" font-family="Times,serif" font-size="12.00">dap.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- archive&#45;&gt;dap -->
<g id="edge27" class="edge">
<title>archive&#45;&gt;dap</title>
<path fill="none" stroke="black" stroke-width="4" d="M227.1,-462.32C265.32,-458.98 334.82,-449.09 386,-420 417.7,-401.98 443,-397.46 443,-361 443,-361 443,-361 443,-191 443,-158.94 415.56,-136.98 386.6,-122.73"/>
<polygon fill="black" stroke="black" stroke-width="4" points="387.72,-119.39 377.18,-118.37 384.78,-125.74 387.72,-119.39"/>
</g>
<!-- user -->
<g id="node27" class="node">
<title>user</title>
<polygon fill="yellow" stroke="black" points="223.68,-0.05 225.46,-0.15 227.22,-0.3 228.95,-0.49 230.65,-0.74 232.31,-1.03 233.92,-1.36 235.48,-1.75 236.99,-2.18 238.43,-2.65 239.8,-3.16 241.1,-3.71 242.32,-4.31 243.45,-4.94 244.51,-5.61 245.47,-6.31 246.35,-7.04 247.13,-7.8 247.81,-8.59 248.41,-9.41 248.91,-10.25 249.31,-11.11 249.62,-11.99 249.83,-12.89 249.96,-13.8 249.99,-14.72 249.93,-15.65 249.79,-16.59 249.57,-17.53 249.27,-18.47 248.89,-19.41 248.44,-20.35 247.92,-21.28 247.33,-22.2 246.69,-23.11 245.98,-24.01 245.22,-24.89 244.41,-25.75 243.56,-26.59 242.67,-27.41 241.73,-28.2 240.76,-28.96 239.76,-29.69 238.74,-30.39 237.68,-31.06 236.61,-31.69 235.52,-32.29 234.41,-32.84 233.28,-33.35 232.14,-33.82 230.99,-34.25 229.84,-34.64 228.67,-34.97 227.5,-35.26 226.33,-35.51 225.15,-35.7 223.96,-35.85 222.78,-35.95 221.59,-36 220.41,-36 219.22,-35.95 218.04,-35.85 216.85,-35.7 215.67,-35.51 214.5,-35.26 213.33,-34.97 212.16,-34.64 211.01,-34.25 209.86,-33.82 208.72,-33.35 207.59,-32.84 206.48,-32.29 205.39,-31.69 204.32,-31.06 203.26,-30.39 202.24,-29.69 201.24,-28.96 200.27,-28.2 199.33,-27.41 198.44,-26.59 197.59,-25.75 196.78,-24.89 196.02,-24.01 195.31,-23.11 194.67,-22.2 194.08,-21.28 193.56,-20.35 193.11,-19.41 192.73,-18.47 192.43,-17.53 192.21,-16.59 192.07,-15.65 192.01,-14.72 192.04,-13.8 192.17,-12.89 192.38,-11.99 192.69,-11.11 193.09,-10.25 193.59,-9.41 194.19,-8.59 194.87,-7.8 195.65,-7.04 196.53,-6.31 197.49,-5.61 198.55,-4.94 199.68,-4.31 200.9,-3.71 202.2,-3.16 203.57,-2.65 205.01,-2.18 206.52,-1.75 208.08,-1.36 209.69,-1.03 211.35,-0.74 213.05,-0.49 214.78,-0.3 216.54,-0.15 218.32,-0.05 220.1,0 221.9,0 223.68,-0.05"/>
<text text-anchor="middle" x="221" y="-14.3" font-family="Times,serif" font-size="14.00">user</text>
</g>
<!-- jasmin&#45;&gt;user -->
<g id="edge28" class="edge">
<title>jasmin&#45;&gt;user</title>
<path fill="none" stroke="black" stroke-width="4" d="M221,-341.72C221,-325.13 221,-299.35 221,-277 221,-277 221,-277 221,-98.5 221,-81.17 221,-61.72 221,-46.4"/>
<polygon fill="black" stroke="black" stroke-width="4" points="224.5,-46.06 221,-36.06 217.5,-46.06 224.5,-46.06"/>
</g>
<!-- ftp2&#45;&gt;user -->
<g id="edge29" class="edge">
<title>ftp2&#45;&gt;user</title>
<path fill="none" stroke="black" stroke-width="4" d="M148.88,-342.36C155,-326.01 163,-300.22 163,-277 163,-277 163,-277 163,-98.5 163,-74.27 180.79,-52.5 196.67,-37.88"/>
<polygon fill="black" stroke="black" stroke-width="4" points="198.98,-40.51 204.22,-31.31 194.38,-35.24 198.98,-40.51"/>
</g>
<!-- dap&#45;&gt;user -->
<g id="edge30" class="edge">
<title>dap&#45;&gt;user</title>
<path fill="none" stroke="black" stroke-width="4" d="M288.13,-72.91C274.03,-61.59 257.74,-48.51 244.74,-38.07"/>
<polygon fill="black" stroke="black" stroke-width="4" points="246.72,-35.16 236.73,-31.63 242.33,-40.62 246.72,-35.16"/>
</g>
<!-- data&#45;&gt;dap -->
<g id="edge22" class="edge">
<title>data&#45;&gt;dap</title>
<path fill="none" stroke="black" d="M320,-162.86C320,-154.43 320,-145.08 320,-136.23"/>
<polygon fill="black" stroke="black" points="323.5,-136.16 320,-126.16 316.5,-136.16 323.5,-136.16"/>
</g>
<!-- catalogue&#45;&gt;data -->
<g id="edge21" class="edge">
<title>catalogue&#45;&gt;data</title>
<path fill="none" stroke="black" d="M319.21,-257.61C319.31,-249.89 319.42,-240.48 319.53,-231.25"/>
<polygon fill="black" stroke="black" points="323.04,-231.05 319.66,-221.01 316.04,-230.97 323.04,-231.05"/>
</g>
<!-- archive_site -->
<g id="node26" class="node">
<title>archive_site</title>
<g id="a_node26"><a xlink:href="https://archive.ceda.ac.uk" xlink:title="archive.ceda.ac.uk">
<polygon fill="white" stroke="black" points="377,-389 273,-389 273,-331 377,-331 377,-389"/>
<image xlink:href="archive_s.png" width="104px" height="58px" preserveAspectRatio="xMinYMin meet" x="273" y="-389"/>
<text text-anchor="middle" x="325" y="-356.9" font-family="Times,serif" font-size="12.00">archive.ceda.ac.uk</text>
</a>
</g>
</g>
<!-- archive_site&#45;&gt;catalogue -->
<g id="edge20" class="edge">
<title>archive_site&#45;&gt;catalogue</title>
<path fill="none" stroke="black" d="M322.94,-330.78C322.31,-322.18 321.62,-312.75 320.99,-304.22"/>
<polygon fill="black" stroke="black" points="324.47,-303.74 320.25,-294.02 317.48,-304.25 324.47,-303.74"/>
</g>
</g>
</svg>



<script>



function update_node_text(title_text, text) {
    var node = get_node(title_text);
    var t = node.getElementsByTagName("text")[0];
    t.textContent = text;
}

function node_shapes(node) {
    // file the main shape object for a node
    var shapes = [];
    for (var i of ["polygon", "rectangle", "path", "ellipse"]) {
        for (j of node.getElementsByTagName(i)) {
            shapes.push(j);
        }
    }
    return shapes
}

function store_base_colours() {
    var svg = document.getElementById("graph0");
    var titleTags = svg.getElementsByTagName("title");
    for (var i = 0; i < titleTags.length; i++) {
        var p = titleTags[i].parentElement;
        s = node_shapes(p)[0];
        p.fill = s.getAttribute("fill");
        p.stroke = s.getAttribute("stroke");
    }
}

function update_node_colour(title_text, fill, stroke) {
    var node = get_node(title_text);
    for (var s of node_shapes(node)) {
        s.setAttribute("fill", fill);
        s.setAttribute("stroke", stroke);
    }
}

function flag_error(title_text) {update_node_colour(title_text, "#ff9999", "#ff0000")}
function flag_warning(title_text) {update_node_colour(title_text, "#ffcc55", "#ffcc00")}
function flag_ok(title_text) {update_node_colour(title_text, "#77cc77", "#00ff00")}

function flag_clear(title_text) {
    var node = get_node(title_text);
    for (var s of node_shapes(node)) {
        s.setAttribute("fill", node.fill);
        s.setAttribute("stroke", node.stroke);
    }
}

function get_node(title_text) {
    var svg = document.getElementById("graph0");
    var titleTags = svg.getElementsByTagName("title");
    var found;
    for (var i = 0; i < titleTags.length; i++) {
        if (titleTags[i].textContent == title_text) {
            found = titleTags[i];
            break;
        }
    }
    return found.parentElement;
}


function up(title_text, test_name) {
    var value = '-';
    if (grabstore["uptimerobot"] != undefined) {
        value = grabstore["uptimerobot"][test_name]
    }
    if (value == "-") {flag_warning(title_text)}
    else if (value == 2) {flag_ok(title_text)}
    else {flag_error(title_text)}

    setTimeout(function () {up(title_text, test_name)}, 1000);

}

store_base_colours();
    uptimerobot(60000);
    up("arrivals", "arrivals");
    up("dap", "http://dap.ceda.ac.uk");
    up("archive_site", "archive.ceda.ac.uk");
    up("ftp2", "ftp.ceda.ac.uk");
    up("catalogue", "catalogue.ceda.ac.uk");
    up("data", "data.ceda.ac.uk");
    up("fbi", "FBI");
    up("haystack", "Haystack");

</script>

</body>
</html>