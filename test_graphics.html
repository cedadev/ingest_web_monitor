<html>
<head>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
      integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
       integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<script src="lib.js"></script>

</head>

<div id="main" class="container-fluid">

<div id="z">

</div>

    <div class="progress" style="width: 400; height: 40">

  <div class="progress-bar bg-secondary" role="progressbar" style="width: 29.2%;" >44444 min</div>
        <div class="progress-bar" role="progressbar" style="width: 40" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">ddddd</div>
</div>


</div>
</div>

<script>

    var urlParams = new URLSearchParams(window.location.search);
    var streamname = urlParams.get("streamname");
    var name_filter = urlParams.get("namefilter");
    var owner_filter = urlParams.get("owner");


    var main = $("#main");
    var z = $("#z");

    main.prepend("<div><h1>Job timeline for "+streamname+"</h1></div>");
    main.prepend("<p>"+top_button()+"</p>");


    z.append(test_icons());


</script>
<span class="border border-dark p-1 m-1 rounded" style="background-color: #ffd; color: #a4d"><i class="fas fa-cheese"></i></span>



<script>
    function calender(date, size) {
        var month = date.toLocaleString('default', { month: 'short' });
        var weekday = date.toLocaleString('default', { weekday: 'short' });
        var day = date.getDate();
        var svg_str = '<svg width="' +size*0.7+ '" height="' +size+ '">';
        var stroke_width = size/50;
        const wcolours = {"Sun": "red", "Sat": "red", "Mon": "grey", "Tue": "grey", "Wed": "grey", "Thu": "grey", "Fri": "grey" };
        var day_colour = wcolours[weekday];

        // white box
        svg_str += '<rect x="10%" y="10%" rx="10%" ry="10%" width="80%" height="80%"';
        svg_str += ' style="fill:white;stroke:black;stroke-width:'+stroke_width+'" />';

        // red box
        svg_str += '<rect x="10%" y="10%"  width="80%" height="25%"';
        svg_str += ' style="fill:black;stroke:black;stroke-width:'+stroke_width+'" />';

        // month
        svg_str += '<text x="50%" y="25%" dominant-baseline="middle" text-anchor="middle"';
        svg_str += ' fill="white" style="font-family:Verdana;font-size:' +size/5+ '">' +month+ '</text>';
        // day
        svg_str += '<text x="50%" y="56%" dominant-baseline="middle" text-anchor="middle"';
        svg_str += ' fill="black" style="font-family:Verdana;font-size:' +size/3+ '">' +day+ '</text>';
        // week day
        svg_str += '<text x="50%" y="80%" dominant-baseline="middle" text-anchor="middle"';
        svg_str += ' fill="' +day_colour+ '" style="font-family:Verdana;font-size:' +size/5+ '">' +weekday+ '</text>';

        svg_str += '</svg>';

        return svg_str;
        }
    </script>

<script>

    Date.prototype.addDays = function(days) {
    var date = new Date(this.valueOf());
    date.setDate(date.getDate() + days);
    return date;
    }

    var current_date = new Date();
    for (var i=0; i<400; i++) {
        var dd = current_date.addDays(i);
       var d = document.createElement('span');
       d.innerHTML = calender(dd, 50);
       document.body.append(d);
    }
</script>


<svg height="100" width="100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <a xlink:href="job.html">
        <svg width="80" height="80">
    <rect height="50%" width="50%" fill="blue"></rect>
            </svg>
        </a>
</svg>

</body>
</html>
